var f=Object.defineProperty,w=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var l=(s,a,t)=>a in s?f(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,d=(s,a)=>{for(var t in a||(a={}))v.call(a,t)&&l(s,t,a[t]);if(n)for(var t of n(a))b.call(a,t)&&l(s,t,a[t]);return s},c=(s,a)=>w(s,h(a));import{c as _,n as $}from"./index.2e7b3162.js";var p=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"container"},[t("div",{staticClass:"section"},[t("div",{staticClass:"content"},[t("div",{staticClass:"page-title"},[s._v(s._s(s.$t("auth.create-password.title")))]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-7"},[t("ValidationObserver",{ref:"observer",staticClass:"create-password-form",attrs:{tag:"form"},on:{submit:function(e){return e.preventDefault(),s.handleSubmit.apply(null,arguments)}}},[t("ValidationProvider",{attrs:{name:s.$t("customer.common.new-password"),rules:"required|min:6",slim:"",vid:"password"},scopedSlots:s._u([{key:"default",fn:function(e){var r=e.errors,o=e.valid;return[t("b-field",{class:{"is-filled":!!s.password,"has-error":r[0]},attrs:{type:{"is-danger":r[0],"is-success":o},message:r,label:s.$t("customer.common.new-password"),"label-for":`${s.$options.name}-new-password`,horizontal:""}},[t("b-input",{attrs:{id:`${s.$options.name}-new-password`,type:"password",name:"password",autocomplete:"new-password"},model:{value:s.password,callback:function(i){s.password=i},expression:"password"}})],1)]}}])}),t("ValidationProvider",{attrs:{name:s.$t("customer.common.new-password-confirm"),rules:"required|confirmed:password",slim:""},scopedSlots:s._u([{key:"default",fn:function(e){var r=e.errors,o=e.valid;return[t("b-field",{class:{"is-filled":!!s.passwordConfirmation,"has-error":r[0]},attrs:{type:{"is-danger":r[0],"is-success":o},message:r,label:s.$t("customer.common.new-password-confirm"),"label-for":`${s.$options.name}-new-password-confirm`,horizontal:""}},[t("b-input",{attrs:{id:`${s.$options.name}-new-password-confirm`,type:"password",name:"passwordConfirmation"},model:{value:s.passwordConfirmation,callback:function(i){s.passwordConfirmation=i},expression:"passwordConfirmation"}})],1)]}}])}),t("br"),t("div",{staticClass:"buttons"},[t("button",{staticClass:"button is-primary is-medium"},[s._v(" "+s._s(s.$t("common.submit"))+" ")])])],1),t("b-loading",{attrs:{"is-full-page":!1,active:s.loading}})],1)])])])])},g=[];p._withStripped=!0;const C={metaInfo(){return{title:this.$t("auth.create-password.title")}},props:{email:{type:String,default:null},token:{type:String,default:null}},data(){return{loading:!1,password:"",passwordConfirmation:""}},created(){this.token||this.$router.push({path:"/404"})},methods:c(d({},_("auth",["resetPassword"])),{captchaCallback(s){this.recaptchaVerified=!!s},handleSubmit(){this.$refs.observer.validate().then(async s=>{if(s){this.loading=!0;try{await this.resetPassword({email:this.email||"",resetToken:this.token,newPassword:this.password}),this.$router.push({path:"/customer/account/login"}),this.$buefy.toast.open({type:"is-success",message:this.$t("auth.create-password.success"),duration:4e3})}catch{}this.loading=!1}})}})},u={};var m=$(C,p,g,!1,y,null,null,null);function y(s){for(let a in u)this[a]=u[a]}m.options.__file="src/pages/auth/create-password.vue";var P=function(){return m.exports}();export{P as default};
