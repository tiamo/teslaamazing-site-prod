var p=Object.defineProperty,v=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var m=(e,r,s)=>r in e?p(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,n=(e,r)=>{for(var s in r||(r={}))_.call(r,s)&&m(e,s,r[s]);if(o)for(var s of o(r))y.call(r,s)&&m(e,s,r[s]);return e},c=(e,r)=>v(e,h(r));import{v as b,a as g,n as C}from"./index.8be7eb7b.js";var u=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"checkout-fieldset",class:e.rootClasses},[s("div",{staticClass:"fieldset-head"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-narrow"},[s("a",{staticClass:"fieldset-title"},[s("svg-icon",{attrs:{icon:e.isValid?"check-circle":"circle"}}),e.isCompany?s("span",[e._v(e._s(e.$t("checkout.shipping-details.order-issued-for")))]):s("span",[e._v(e._s(e.$t("checkout.shipping-details.personal-details")))])],1)]),e.isActive?s("div",{staticClass:"column"},[s("b-field",{staticClass:"person-switcher"},[s("b-radio-button",{attrs:{"native-value":""},model:{value:e.isCompany,callback:function(i){e.isCompany=i},expression:"isCompany"}},[s("b-icon",{attrs:{icon:"account",size:"is-small"}}),s("span",[e._v(e._s(e.$t("checkout.shipping-details.person")))])],1),s("b-radio-button",{attrs:{"native-value":"1"},model:{value:e.isCompany,callback:function(i){e.isCompany=i},expression:"isCompany"}},[s("b-icon",{attrs:{icon:"office-building",size:"is-small"}}),s("span",[e._v(e._s(e.$t("checkout.shipping-details.company")))])],1)],1)],1):e._e()])]),e.isActive?s("div",{staticClass:"fieldset-body fieldset-collapse"},[s("ValidationProvider",{ref:"firstname",attrs:{name:e.$t("customer.common.first-name"),debounce:100,rules:"required|latin",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.errors,l=i.valid;return[s("b-field",{class:{"is-required":!0,"is-filled":e.firstname,"has-error":a[0]},attrs:{type:{"is-danger":a[0],"is-success":l},message:a,label:e.$t("customer.common.first-name")+":",horizontal:"","label-for":"firstname"}},[s("b-input",{attrs:{id:"firstname",name:"firstname",maxlength:"100"},model:{value:e.firstname,callback:function(t){e.firstname=typeof t=="string"?t.trim():t},expression:"firstname"}})],1)]}}])}),s("ValidationProvider",{ref:"lastname",attrs:{name:e.$t("customer.common.last-name"),rules:"required|latin",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.errors,l=i.valid;return[s("b-field",{class:{"is-required":!0,"is-filled":e.lastname,"has-error":a[0]},attrs:{type:{"is-danger":a[0],"is-success":l},message:a,label:e.$t("customer.common.last-name")+":",horizontal:"","label-for":"lastname"}},[s("b-input",{attrs:{id:"lastname",name:"lastname",maxlength:"100"},model:{value:e.lastname,callback:function(t){e.lastname=typeof t=="string"?t.trim():t},expression:"lastname"}})],1)]}}])}),s("ValidationProvider",{ref:"email",attrs:{name:e.$t("customer.common.email-address"),rules:"required|email",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.errors,l=i.valid;return[s("b-field",{class:{"is-required":!0,"is-filled":e.email,"has-error":a[0]},attrs:{type:{"is-danger":a[0],"is-success":l},message:a,label:e.$t("customer.common.email-address")+":",horizontal:"","label-for":"email"}},[s("b-input",{attrs:{id:"email",name:"email",maxlength:"100"},model:{value:e.email,callback:function(t){e.email=typeof t=="string"?t.trim():t},expression:"email"}})],1)]}}])}),e.isCompany?s("ValidationProvider",{ref:"company",attrs:{name:e.$t("customer.common.company"),rules:"required",slim:""},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.errors,l=i.valid;return[s("b-field",{class:{"is-required":!0,"is-filled":e.company,"has-error":a[0]},attrs:{type:{"is-danger":a[0],"is-success":l},message:a,label:e.$t("customer.common.company")+":",horizontal:"","label-for":"company"}},[s("b-input",{attrs:{id:"company",name:"company",maxlength:"100"},model:{value:e.company,callback:function(t){e.company=typeof t=="string"?t.trim():t},expression:"company"}})],1)]}}],null,!1,1518817538)}):e._e(),e.isCompany?s("ValidationProvider",{ref:"vat_id",attrs:{name:e.$t("customer.common.vat-number"),slim:""},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.errors,l=i.valid;return[s("b-field",{class:{"is-required":!1,"is-filled":e.vat_id,"has-error":a[0]},attrs:{type:{"is-danger":a[0],"is-success":e.vat_id&&l},message:a,label:e.$t("customer.common.vat-number")+":",horizontal:"","label-for":"vat_id"}},[s("b-input",{attrs:{id:"vat_id",name:"vat_id",maxlength:"100"},model:{value:e.vat_id,callback:function(t){e.vat_id=typeof t=="string"?t.trim():t},expression:"vat_id"}})],1)]}}],null,!1,4275019204)}):e._e()],1):s("div",{staticClass:"fieldset-body"},[s("b",[e._v(e._s(e.firstname)+" "+e._s(e.lastname))]),s("div",[e._v(e._s(e.email))])])])},k=[];u._withStripped=!0;const x={props:{isActive:{type:Boolean,default:!1},isValid:{type:Boolean,default:!1}},data(){return{test:"",isCompany:""}},computed:c(n(n({},b("cart/shippingDetails",["email","firstname","lastname","company","vat_id"])),g({user:e=>e.auth.user})),{rootClasses(){return{"is-filled":this.isValid,"is-active":this.isActive}}}),watch:{isValid:{immediate:!0,handler(e){this.$emit("input",e)}},company:{immediate:!0,handler(e){e&&(this.isCompany="1")}}},mounted(){!this.firstname&&this.user.firstname&&(this.firstname=this.user.firstname),!this.lastname&&this.user.lastname&&(this.lastname=this.user.lastname),!this.email&&this.user.email&&(this.email=this.user.email),this.firstname&&this.$refs.firstname.validate(),this.lastname&&this.$refs.lastname.validate(),this.email&&this.$refs.email.validate(),this.company&&this.$refs.company.validate(),this.vat_id&&this.$refs.vat_id.validate()}},d={};var f=C(x,u,k,!1,q,null,null,null);function q(e){for(let r in d)this[r]=d[r]}f.options.__file="src/pages/checkout/blocks/personal-details.vue";var z=function(){return f.exports}();export{z as default};
